<article ng-show="project">

  <div class="page-header">
      <h1>The Project Name <small>{{ project.project_number }}</small></h1>
    </div>

    <ul class="nav nav-tabs">
      <li class="active"><a href="#">Home</a></li>
      <li><a href="#">Basics</a></li>
      <li><a href="#">Location</a></li>
      <li><a href="#">Dimensions</a></li>
      <li><a href="#">Phases</a></li>
      <li><a href="#">Project Sheet source</a></li>
    </ul>


  <div ng-show="project.building">
    <h1>{{ project.building.address.building_name }}</h1>
    <editable-group object="project"
                    lens="building"
                    subgroup-class="alert alert-info col-sm-12">
      <editable property="description" label="Description" type="textarea">This is an internal, easy to understand summary of the project.</editable>
      <editable property="attribution" label="Attribution">This is an internal, easy to understand summary of the project.</editable>
      <editable property="BCA_classification" label="BCA Classification">The BCA classification of this project</editable>
      <editable property="project_catagories" label="Project Catagories">A comma separated list of the catagories that this project is in</editable>
      <editable property="project_sub_catagories" label="Project Sub-catagories">A comma separated list of the catagories that this project is in. [TODO: why does this exist?]</editable>
    </editable-group>

    <div class="row">
      <h2>Location</h2>
    <div ng-repeat="location in project.building.locations" class="col-md-6">
      <editable-group object="project"
                      lens="building.locations[{{location|id}}].geo_json"
                      subgroup-class="alert alert-info col-sm-12">
        <editable property="lat"             label="latitude"       type="number">helpText</editable>
        <editable property="lon"             label="longitude"      type="number">helpText</editable>
        <editable property="boundary_points" label="Boundary Points">helpText</editable>

       <iframe class="temp-map" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" ng-src="{{'https://maps.google.com.au/?ie=UTF8&amp;ll='+subobject.lat+','+subobject.lon+'&amp;spn=0.015,0.030&amp;t=h&amp;z=16&amp;output=embed' | trustMaplink}}"></iframe>

      </editable-group>

      <div ng-repeat="address in location.addresses">
        <editable-group object="project"
                        lens="building.locations[{{location|id}}].addresses[{{address|id}}]"
                        subgroup-class="alert alert-info col-sm-12">
           <editable property="building_name" label="building name">helpText</editable>
           <editable property="street_number" label="street number">helpText</editable>
           <editable property="street"        label="street"       >helpText</editable>
           <editable property="suburb_area"   label="suburb area"  >helpText</editable>
           <editable property="state_county"  label="state county" >helpText</editable>
           <editable property="country"       label="country"      >helpText</editable>
           <editable property="postcode"      label="postcode"     >helpText</editable>
        </editable-group>
      </div>
    </div>


    <h2>project source</h2>
    <editable-group object="project"
                    lens="building.project_source"
                    subgroup-class="alert alert-info col-sm-6">
      <editable property="competition_win" label="competition win">helpText</editable>
      <editable property="competition_URL" label="competition URL">helpText</editable>
    </editable-group>
    <h3>referred by</h3>
    <editable-group object="project"
                    lens="building.project_source.referred_by"
                    subgroup-class="alert alert-info col-sm-6">
      <editable property="BVN_staff_login"      label="BVNstaff login"     >helpText</editable>
      <editable property="contact_name"         label="contact name"        >helpText</editable>
      <editable property="contact_organisation" label="contact organisation">helpText</editable>
    </editable-group>

    <h2>Key Dimensions</h2>
    <div class="row">
      <div class="col-md-4">
        <h3>Dirty size</h3>
        <editable-group object="project"
                        lens="building.dims"
                        subgroup-class="alert alert-info col-sm-12">
          <editable property="dirty_size"      label="dirty size">This is the size from the project library, if you are the project custodian, or you think you know enough about this project, then you should move this number into the appropriate field.</editable>
        </editable-group>
      </div>

      <div class="col-md-4">
        <h3>Height</h3>
        <editable-group object="project"
                        lens="building.dims.height"
                        subgroup-class="alert alert-info col-sm-12">
          <editable property="measurement"      label="measurement"     type="number">helpText</editable>
          <editable property="standard_name"    label="standard name"   >helpText</editable>
          <editable property="standard_version" label="standard version">helpText</editable>
        </editable-group>
      </div>

      <div class="col-md-4">
        <h3>footprint area</h3>
        <editable-group object="project"
                        lens="building.dims.footprint_area"
                        subgroup-class="alert alert-info col-sm-12">
          <editable property="measurement"      label="measurement"     type="number">helpText</editable>
          <editable property="standard_name"    label="standard name"   >helpText</editable>
          <editable property="standard_version" label="standard version">helpText</editable>
        </editable-group>
      </div>

      <div class="col-md-4">
        <h3>GBA</h3>
        <editable-group object="project"
                        lens="building.dims.gba"
                        subgroup-class="alert alert-info col-sm-12">
          <editable property="measurement"      label="measurement"     type="number">helpText</editable>
          <editable property="standard_name"    label="standard name"   >helpText</editable>
          <editable property="standard_version" label="standard version">helpText</editable>
        </editable-group>
      </div>

      <div class="col-md-4">
        <h3>GFA</h3>
        <editable-group object="project"
                        lens="building.dims.gfa"
                        subgroup-class="alert alert-info col-sm-12">
          <editable property="measurement"      label="measurement"     type="number">helpText</editable>
          <editable property="standard_name"    label="standard name"   >helpText</editable>
          <editable property="standard_version" label="standard version">helpText</editable>
        </editable-group>
      </div>

      <div class="col-md-4">
        <h3>NLA</h3>
        <editable-group object="project"
                        lens="building.dims.nla"
                        subgroup-class="alert alert-info col-sm-12">
          <editable property="measurement"      label="measurement"     type="number">helpText</editable>
          <editable property="standard_name"    label="standard name"   >helpText</editable>
          <editable property="standard_version" label="standard version">helpText</editable>
        </editable-group>
      </div>
    </div>

    <h2>client</h2>
    <editable-group object="project"
                    lens="building.client"
                    subgroup-class="alert alert-info col-sm-6">
      <editable property="main"     label="Main"    >helpText</editable>
      <editable property="direct"   label="Direct"  >helpText</editable>
      <editable property="end_user" label="End user">helpText</editable>
    </editable-group>

    <h2>relationships</h2>
    <editable-group object="project"
                    lens="building.relationship_description"
                    subgroup-class="alert alert-info col-sm-6">
      <editable property="client"      label="client"     >helpText</editable>
      <editable property="stakeholder" label="stakeholder">helpText</editable>
      <editable property="councils"    label="councils"   >helpText</editable>
    </editable-group>

    <h2>Phase</h2>
    <div ng-repeat="phase in project.building.phases">
      <editable-group object="project"
                      lens="building.phases[{{phase|id}}]"
                      is-plural="true"
                      subgroup-class="alert alert-info col-sm-6">
        <editable property="project_name"          label="project name"         >helpText</editable>
        <editable property="studio"                label="studio"               >helpText</editable>
        <editable property="client"                label="client"               >helpText</editable>
        <editable property="services_scope"        label="services scope"       >helpText</editable>
        <editable property="delivery_contract"     label="delivery contract"    >helpText</editable>
        <editable property="staff_contact_login"   label="staffcontact login"  >helpText</editable>
        <editable property="staff_custodian_login" label="staff custodian login">helpText</editable>
        <editable property="dirty_date"            label="dirty date" type="date">Some date or other from teh project library, lets get rid of this as soon as we can!</editable>
      </editable-group>

      <h3>Members</h3>
      <editable-group object="project"
                      lens="building.phases[{{phase|id}}]"
                      is-plural="true"
                      subgroup-class="alert alert-info col-sm-6">
        <editable property="dirty_members" label="dirty team members">This data came from the project library, it should be replaced by the data provided by Epicor. If you are project custodian you should check that the team that is automatically generated is correct and then empty this field out.</editable>
      </editable-group>
    </div>

      <h3>Budget</h3>
      <editable-group object="project"
                      lens="building.phases[{{phase|id}}].budget"
                      is-plural="true"
                      subgroup-class="alert alert-info col-sm-6">
        <editable property="dirty_budget"              label="dirty budget"type="number">Dirty value!</editable>
        <editable property="initial_phase_value_total" label="initial phase value total"type="number">helpText</editable>
        <editable property="final_phase_value_total"   label="final phase value total"  type="number">helpText</editable>
        <editable property="initial_phase_fee_total"   label="initial phase fee total"  type="number">helpText</editable>
        <editable property="final_phase_fee_total"     label="final phase fee total"    type="number">helpText</editable>
        <editable property="construction_initial"      label="construction initial"     type="number">helpText</editable>
        <editable property="construction_final"        label="construction final"       type="number">helpText</editable>
        <editable property="comments"                  label="comments"                 >helpText</editable>
        <editable property="fee_type"                  label="fee type"                 >helpText</editable>
      </editable-group>
    </div>

    <h2>template</h2>
    <editable-group object="project"
                    lens="building.legacy"
                    subgroup-class="alert alert-info col-sm-6">
      <editable property="one_line_grab"             label="one line grab"            >helpText</editable>
      <editable property="description_project_sheet" label="description project sheet">helpText</editable>
      <editable property="description_awards_style"  label="description awards style" >helpText</editable>
      <editable property="innovation_client_style"   label="innovation client style"  >helpText</editable>
      <editable property="interesting_things"        label="interesting things"       >helpText</editable>
      <editable property="brief_elements"            label="brief elements"           >helpText</editable>
      <editable property="security_level"            label="security level"           >helpText</editable>
    </editable-group>

    <h2>initiatives</h2>
    <div ng-repeat="initiaive in project.building.legacy.initiavies">
      <editable-group object="project"
                      lens="building.legacy.esd.initiatives[{{initiative|id}}]"
                      subgroup-class="alert alert-info col-sm-6">
        <editable property="title"       label="title"      >helpText</editable>
        <editable property="reason"      label="reason"     >helpText</editable>
        <editable property="description" label="description">helpText</editable>
      </editable-group>
    </div>

    <h2>certifications</h2>
    <editable-group object="project"
                    lens="building.legacy.esd.certifications"
                    subgroup-class="alert alert-info col-sm-6">
      <editable property="name"          label="name"         >helpText</editable>
      <editable property="ranking"       label="ranking"      >helpText</editable>
      <editable property="awarding_body" label="awarding body">helpText</editable>
      <editable property="expiry_date"   label="expiry date"  >helpText</editable>
    </editable-group>

    <h2>photography</h2>
    <editable-group object="project"
                    lens="building.legacy.photography"
                    subgroup-class="alert alert-info col-sm-6">
      <editable property="photographer" label="photographer">helpText</editable>
      <editable property="date"         label="date"        >helpText</editable>
    </editable-group>

    <h2>awards</h2>
    <div ng-repeat="award in project.building.legacy.awards">
    <editable-group object="project"
                    lens="building.legacy.awards[{{award|id}}]"
                    subgroup-class="alert alert-info col-sm-6">
      <editable property="award" label="award">helpText</editable>
      <editable property="date"  label="date" >helpText</editable>
      <editable property="jury"  label="jury" >helpText</editable>
    </editable-group>


    <h2>testimonials</h2>
    <div ng-repeat="testimonial in project.building.legacy.testimonials">
      <editable-group object="project"
                      lens="building.legacy.testimonials[{{testimonial|id}}]"
                      subgroup-class="alert alert-info col-sm-6">
        <editable property="testimonial" label="testimonial">helpText</editable>
        <editable property="citation"    label="citation"   >helpText</editable>
        <editable property="date"        label="date"       >helpText</editable>
      </editable-group>
    </div>

    <h2>quotes</h2>
    <div ng-repeat="quote in project.building.legacy.quotes">
      <editable-group object="project"
                      lens="building.legacy.quotes[{{quote|id}}]"
                      subgroup-class="alert alert-info col-sm-6">
        <editable property="quote"    label="quote"   >helpText</editable>
        <editable property="citation" label="citation">helpText</editable>
        <editable property="date"     label="date"    >helpText</editable>
      </editable-group>
    </div>

    <h2>Press</h2>
    <div ng-repeat="press in project.building.presses">
      <h3>Attentions</h3>
      <editable-group object="project"
                      ng-repeat="attention in press.attentions"
                      lens="building.presses[{{press|id}}].attentions[{{attention|id}}]"
                      subgroup-class="alert alert-info col-sm-6">
        <editable property="url"                label="url"               >helpText</editable>
        <editable property="scan_or_screengrab" label="scan or screengrab">helpText</editable>
        <editable property="publication"        label="publication"       >helpText</editable>
        <editable property="reason"             label="reason"            >helpText</editable>
      </editable-group>

      <h3>Campaigns</h3>
      <editable-group object="project"
                      ng-repeat="campaign in press.campaigns"
                      lens="building.presses[{{press|id}}].campaigns[{{campaign|id}}]"
                      subgroup-class="alert alert-info col-sm-6">
        <editable property="strategy"     label="strategy">helpText</editable>
      </editable-group>
    </div>

  </div>

  <div ng-show="project.non_building">
    <h1>{{ project.non_building.name }}</h1>
    <editable-group object="project"
                    lens="project.non_building.description"
                    subgroup-class="alert alert-info col-sm-6">
      <editable property="description" label="Description"></editable>
    </editable-group>
  </div>

</article>
