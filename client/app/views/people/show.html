<article ng-show="isCurrentUser(person) || person">

  <section ng-show="isCurrentUser(person) || person.name">
    <h1>Check out {{ person.name.preferred_first }}'s Page!!</h1>
    <div class="row">
      <div class="col-md-4">
        <p>{{ person.name.prefix }} {{ person.name.first }} {{ person.name.middle }} {{ person.name.last }} {{ person.name.suffix }} prefers to be called {{ person.name.preferred_first }} {{ person.name.preferred_last }}.</p>
      </div>
      <div class="col-md-4">
        <h3>Passport Name</h3>
        <p class="explantory-text">This is your name as it appears in your passport. We sometimes need this for legal documents.</p>
        <editable-group object="person" lens="name">
          <editable property="prefix" label="prefix">A name prefix is usually something like Miss, Ms, Mr, or it could be Dr Admiral or Archbishop.</editable>
          <editable property="first"  label="first" >This is your first name as it appears on your passport.</editable>
          <editable property="middle" label="middle">This is your middle name or names as they appear on your passport. (If you don't have a middle name just leave it blank.)</editable>
          <editable property="prefix" label="prefix">This is your last name as it appears on your passport.</editable>
          <editable property="suffix" label="suffix">A name suffix is usually something like Jr, PhD, OA etc.</editable>
        </editable-group>
      </div>
      <div class="col-md-4">
        <h3>Preferred Name</h3>
        <p class="explantory-text">Often people are called something other than their<em>official</em> name. This is where you tell us what you'd prefer to be know as.</p>
        <editable-group object="person" lens="name">
          <editable property="preferred_first" label="preferred first">This is the first name that you prefer to be known by. This is what you'll be called in sumbissions and on your business card. [TODO: is this true? Do we need ANOTHER field for casual name?]</editable>
          <editable property="preferred_last"  label="preferred last" >This is the last name that you prefer to be known by. For example, this would be different to your passport name if you have changed your name legally, but still use your old name professionally.</editable>
        </editable-group>
      </div>
    </div><!--end row-->
  </section>

  <section ng-show="isCurrentUser(person) || person.employee">
    <h2>Employee details</h2>

    <section ng-show="isCurrentUser(person) || person.employee.position">
      <h3>Position</h3>
      <p class="explantory-text">Explanatory text goes in here</p>
      <editable-group object="person" lens="employee">
        <editable property="position" label="position">
          This is your Position/Title.
        </editable>
      </editable-group>
    </section>

    <section>
      <h3>Fixed details</h3>
      <p class="explantory-text">These aren't editable because these are the values that identify you to the databases that we use.</p>
      <div ng-show="isCurrentUser(person) || person.employee.login">
        <h3>login</h3>
      <p class="explantory-text">This is your login for the computer system, and also how <a href="http://en.wikipedia.org/wiki/Active_directory" title="Wikipedia: Active Directory">Active Directory</a> and <a href="http://en.wikipedia.org/wiki/Epicor" title="Wikipedia: Epicor">Epicor</a> identifies you. Only you have this login.</p><!--non editable, primary DB key-->
        <p><span class="field-name">login</span>
           <span class="ang-inserted">{{person.employee.login}}</span></p>
      </div>
      <div ng-show="isCurrentUser(person) || person.employee.finance">
        <h3>finance</h3>
      <p class="explantory-text">This is your identifier in <a href="http://en.wikipedia.org/wiki/Sage_MicrOpay" title="Wikipedia: MicrOpay">MicrOpay</a>.</p><!--non editable, primary DB key-->
        <p><span class="field-name">employee code</span>
           <span class="ang-inserted">{{person.employee.finance.employee_code}}</span></p>
      </div>
    </section>

    <section ng-show="isCurrentUser(person) || person.employee.photo">
      <h3>Photos</h3>

      <div class="row">
        <div class="col-sm-4">
          <div class="thumbnail">
            <img class=""
                 ng-src="{{ person.employee.photo.bw }}"
                 itemprop="image"
                 title="This photo is used in submissions and on the public facing website."
                 alt="A black and white photo of {{ person.name.preferred_first }} {{ person.name.preferred_last }}"/>
            <div class="caption">
              <h3>Serious B&W Photo</h3>
            </div>
          </div>
        </div>

        <div class="col-sm-4">
          <div class="thumbnail">
            <img class=""
                 ng-src="{{ person.employee.photo.colour }}"
                 itemprop="image"
                 title="This photo is used in submissions and on the public facing website."
                 alt="A colour photo of {{ person.name.preferred_first }} {{ person.name.preferred_last }}"/>
            <div class="caption">
              <h3>Serious Colour Photo</h3>
            </div>
          </div>
        </div>

        <div class="col-sm-4">
          <div class="thumbnail">
            <img class=""
                 ng-src="{{ person.employee.photo.fun }}"
                 itemprop="image"
                 title="This photo is used internally and won't be show to the public."
                 alt="A fun, colour photo of {{ person.name.preferred_first }} {{ person.name.preferred_last }}"/>
            <div class="caption">
              <h3>Fun Photo</h3>
            </div>
          </div>
        </div>
      </div><!--end row-->
    </section>

    <section dissabled-ng-show="person.conditions">
      <!--One day this might show up as a pretty timeline or somethign like that!-->
      <h3>Conditions</h3>
      <p class="explantory-text">A <em>condition</em>is like a status. At the moment you can either be <em>Active</em>, <em>Retired</em>, <em>Maternity</em>, <em>Leave</em>, <em>Deceased</em>, <em>Applicant</em>, <em>Left</em> or </em>Unknown</em>, but we'll add more as we work out what is needed. The system calculates your current condition by looking at the most recent start date, so it is important to update new conditins as soon as you can. </p>

      <editable-group object="person" lens="conditions" subgroup-class="alert alert-info col-sm-6 col-md-4">
        <editable property="name"       label="name"                  >This is the label of this period of your life, it will normally be taken from the list above.</editable>
        <editable property="start_date" label="start date" type="date">This is the date that this period started. YOu don't need to put in when it ended becasue that is inferred from the start date of the next period.</editable>
      </editable-group>

    </section>

    <section ng-show="isCurrentUser(person) || person.employee.office_culture">
      <h3>Office culture</h3>
      <p class="explantory-text">Explanatory text goes in here</p>
      <div class="row">
        <editable-group object="person" lens="employee.office_culture" subgroup-class="col-md-4">
          <editable property="first_aider"  label="first aider" >If you are <em>currently</em> a first aider then this should say True, otherwise it should say False.</editable>
          <editable property="fire_warden"  label="fire warden" >If you <em>are</em>a fire warden then this should say True, otherwise it should say False.</editable>
          <editable property="requirements" label="requirements">This is a comma separated list of things that you <em>can't</em> eat (for fear of feeling ill, messing up your morals or dying). For example: <em>eggs, gluten, shellfish.</editable>
          <editable property="likes"        label="likes"       >This is a comma separated list of things that you <em>really like</em> eating. For example: <em>bacon, pizza, pinaple.</editable>
          <editable property="dislikes"     label="dislikes"    >This is a comma separated list of things that you <em>really don't like</em> eating. For example: <em>devon, olives, bread.</em>.</editable>
        </editable-group>
        <div class="col-md-8">
          <div class="row">
          <h4>Event Participation</h4>
            <editable-group object="person"
                            lens="employee.office_culture.event_participations"
                            subgroup-class="alert alert-info col-sm-6">
              <editable property="name" label="name"            >This is the name of the thing that you did.</editable>
              <editable property="date" label="date" type="date">This is the date that you did it.</editable>
              <editable property="url"  label="url"  type="url" >This is a link to some kind of explanation of the event. It could be the event's website, or it might be to some report that you've published about it.</editable>
              <p><a href="{{ subobject.url }}"><span class="glyphicon glyphicon-link"></span>Go to link.</a></div>
            </editable-group>
      </div>
    </section>

    <div class="row">
      <div class="col-md-6">
        <section ng-show="isCurrentUser(person) || false && person.employee.contact">
          <div class="row">
            <h3>contact (office)</h3>
            <p class="explantory-text">Explanatory text goes in here</p>
            <editable-group object="person"
                            lens="employee.office_culture.event_participations"
                            subgroup-class="alert alert-info col-sm-6">
              <editable  property="extension" label="extension"  type="number">This is your desk phone extension.</editable>
              <editable  property="studio"    label="studio"                  >This is the studio that you work in.</editable>
              <editable  property="work email"label="work email" type="email" >This is your ~~~@bvn.com.au email address.</editable>
            </editable-group>
            <div class="col-md-6">
              <h4>Mobile</h4>
              <editable-group object="person"
                              lens="employee.contact.mobile"
                              subgroup-class="alert alert-info col-sm-6">
                <editable property="number"     label="number"    type="number">This is your mobile number.</editable>
                <editable property="is_work"    label="is work"                >This is <em>True</em> if BVNDH provides your mobile.</editable>
                <editable property="distribute" label="distribute"             >This is <em>True</em> if it is OK for people give your mobile number out to people.</editable>
              </editable-group>
          </div>
        </section>
      </div>

      <div class="col-md-6">
        <section ng-show="isCurrentUser(person) || false && person.contact">
          <div class="row">
            <h3>contact (personal)</h3>
            <div class="col-md-6">
              <h4>anti-social</h4>
              <editable lens="contact.personal_email" label="personal email" type="email">This is</editable>
              <editable lens="contact.personal_phone" label="personal phone" type="tel">This is</editable>
            </div>
            <div class="col-md-6">
              <h4>social</h4>
              <editable-group object="person"
                              lens="contact.social"
                              subgroup-class="alert alert-info col-sm-6">
                <editable property="twitter"     label="twitter"    >This is your Twitter name. Leave the @ off.</editable>
                <editable property="instagram"   label="instagram"  >This is your Instagram name. Leave the @ off.</editable>
                <editable property="github"      label="github"     >This is your github name.</editable>
                <editable property="pinterest"   label="pinterest"  >This is your pintrest name.</editable>
                <editable property="google_plus" label="google plus">This is your Google+ name. If you have a vanity name then it'll looke like <code>+yourname</code> otherwise it'll just be a long number.</editable>
                <editable property="linkedin"    label="linkedin"   >This is your linkedin link. There isn't an obvious way to get this other than to go to your page and copy the link in the URL bar whiel you are there.</editable>
                <editable property="facebook"    label="facebook"   >This is your Facebook name. If you have a vanity name then it'll looke like <code>yourname</code> otherwise it'll just be a long number.</editable>
                <editable property="tumblr"      label="tumblr"     >This is the link to your tumblr. e.g. <a href="http://i-justreally-like-cats-okay.tumblr.com/">http://i-justreally-like-cats-okay.tumblr.com</a></editable>
                <!--This will need a bit of tweaking once we know what's going on.-->
              </editable-group>
              <!--Social widgets went in here-->
            </div>
          </div>
        </section>
     </div>
    </div>


    <section ng-show="isCurrentUser(person) || person.employee.security_clearances">
      <h3>Clearances</h3>
        <editable-group object="person"
                        lens="employee.security_clearances"
                        class="alert alert-info col-sm-6 col-md-3">
          <editable property="issuing_body" label="issuing body">This is the organisation that your clearance is with.</editable>
          <editable property="level"        label="level"       >What level is your clearance?</editable>
          <editable property="expiry"       label="expiry"      >what's the expiry date of your clearance? One day we'll use this to remind you to renew it, but for now this is jsut a place to store this information.</editable>
        </editable-group>
    </section>

    <div class="row">
    <section ng-show="isCurrentUser(person) || person.employee.qualifications">
      <h3>qualifications</h3>
      <p class="explantory-text">Explanatory text goes in here</p>
        <editable-group object="person"
                        lens="employee.qualifications"
                        class="alert alert-info col-xs-12 col-sm-4 col-md-3">
          <editable property="name"        label="name"                    >What is the name of your qualification?</editable>
          <editable property="level"       label="level"                   >What What level is it at? This is a restricted list so that we can make comparisons across different systems.</editable>
          <editable property="institution" label="institution"             >What organisation issued your qualification?</editable>
          <editable property="first_year"  label="first year" type="number">When did your course start? We just need a year here.</editable>
          <editable property="last_year"   label="last year"  type="number">When did/does it end? We just need a year here.</editable>
        </editable-group>
    </section>

    <div class="row">
      <div class="col-md-4">
        <section ng-show="isCurrentUser(person) || person.employee.registrations">
          <h3>registrations</h3>
          <p class="explantory-text">Explanatory text goes in here</p>
          <editable-group object="person"
                          lens="employee.registrations"
                          class="alert alert-info col-xs-12 col-sm-4 col-md-3">
            <editable property"organisation"         label="organisation"       >Who is this registration with? NSW board of architects? RIBA?</editable>
            <editable property="registration_number" label="registration number">What's your registration number?</editable>
            <editable property"state"                label="state"              >What state does this registration cover?</editable>
            <editable property"country"              label="country"            >What state is this registration issued in?</editable>
            <editable property"expiry"               label="expiry"             >When does this registration expire?</editable>
            <editable property"first_issue_date"     label="first_issue_date"   >When was this this registration first issued?</editable>
          </editable-group>
        </section>
      </div>

      <div class="col-md-4">
        <section ng-show="isCurrentUser(person) || person.employee.memberships">
          <h3>memberships</h3>
          <p class="explantory-text">Explanatory text goes in here</p>
          <editable-group object="person"
                        lens="employee.memberships"
                        class="alert alert-info col-xs-12 col-sm-4 col-md-3">
            <editable property="organisation"      label="organisation"     >Who is this membership with?</editable>
            <editable property="membership_number" label="membership number">What's your membership number?</editable>
            <editable property="state"             label="state"            >What state does this membership cover?</editable>
            <editable property="country"           label="country"          >What state is this membership issued in?</editable>
            <editable property="expiry"            label="expiry"           >When does this membership expire?</editable>
          </editable-group>
        </section>
      </div>

      <div class="col-md-4">
        <section ng-show="isCurrentUser(person) || person.employee.personal_awards">
          <h3>personal awards</h3>
          <p class="explantory-text">This sections captures your awards. This is not for awards that projects that you have worked on have won, but rather projects that you, as a person, have won. Use one box per award and add (<i class="icon-plus-sign"></i>Add Award) a new box for each additional one.</p>
          <p class="explantory-text">Awards that projects that you worked on will be added soon.</p>
          <editable-group object="person"
                      lens="employee.personal_awards"
                      class="alert alert-info col-xs-12 col-sm-4 col-md-3">
            <editable property="name"          label="name"                       >What's the name of this award?</editable>
            <editable property="awarding_body" label="awarding body"              >Who awards it?</editable>
            <editable property="description"   label="description" type="textarea">Describe the award and why you got it.</editable>
            <editable property="url"           label="url"         type="url"     >Give a link to information about the award and about you getting it if you can.</editable>
            <p><a href="{{ subobject.url }}"><span class="glyphicon glyphicon-link"></span>Go to link.</a></div>
          </editable-group>
        </section>
      </div>
    </div> <!--end row-->

    <section ng-show="isCurrentUser(person) || person.employee.professional_contributions">
      <h3>professional contributions</h3>
      <p class="explantory-text">This sections captures your professional contributions. Things like teaching, speaking at conferences etc. Use one box per contributions/experience/event and add (<i class="icon-plus-sign"></i>Add) a new box for each additional one.</p>
      <editable-group object="person"
                      lens="employee.professional_contributions"
                      class="alert alert-info col-xs-12 col-sm-4 col-md-3">
          <editable property="activity"    label="activity"                   >Give this activity a title.</editable>
          <editable property="description" label="description" type="textarea">Describe what you did</editable>
          <editable property="url"         label="url"         type="url"     >Give a URL to some evidence that it happened, or at least to a description of what was going to happen.</editable>
          <p><a href="{{ subobject.url }}"><span class="glyphicon glyphicon-link"></span>Go to link.</a></div>
        </editable-group>
    </section>

    <section ng-show="isCurrentUser(person) || person.employee.travel">
      <h3>travel</h3>
      <p class="explantory-text">This information makes it easy for other people to book travel for you, and also means that if you need this information it's easy to find.</p>
      <h4>passports</h4>
      <editable-group object="person"
                      lens="employee.travel.passports"
                      class="alert alert-info col-xs-12 col-sm-4 col-md-3">
        <editable property="number"       label="number"      >What is your passport number?</editable>
        <editable property="expiry"       label="expiry"      >When does this passport expire?</editable>
        <editable property="issuing_body" label="issuing body">Who issues this passport? It'll be written inside, don't just assume that it is your home country, it might be a sub-agency e.g. a British passport issued in Melbourne.</editable>
      </editable-group>
      <h4>frequent flier programs</h4>
      <!--it'd be cool to get status updates from somewhere like http://awardwallet.com/ in the future-->
      <editable-group object="person"
                      lens="employee.travel.frequent_flier_programs"
                      class="alert alert-info col-xs-12 col-sm-4 col-md-3">
        <editable property="name"   label="name"  >This is the name of the programme. E.g. Virgin velocity or One world</editable>
        <editable property="number" label="number">Your number for this programme.</editable>
      </editable-group>
    </section>

    <section dissabled-ng-show="person.employee.project_experiences">
      <h4> experiences (int)</h4>
      <div class="alert alert-warning">coming as soon as we've tied the project
      data to people through the Epicor data. </div>

      <h4> Project Experience at Other Firms</h4>
      <editable-group object="person"
                      lens="employee.project_experiences"
                      class="alert alert-info col-xs-12 col-sm-4 col-md-3">
          <editable property="name"       label="name"                  ></editable>
          <editable property="firm"       label="firm"                  ></editable>
          <editable property="role"       label="role"                  ></editable>
          <editable property="stage"      label="stage"                 ></editable>
          <editable property="start_date" label="start date" type="date"></editable>
          <editable property="end_date"   label="end date"   type="date"></editable>
          <editable property="url"        label="url"        type="url" ></editable>
        </editable-group>
    </section>

    <section ng-show="isCurrentUser(person) || person.employee.biography">
      <h3>Biography</h3>
      <p class="explantory-text">Explanatory text goes in here</p>
      <editable-group object="person"
                      lens="employee.biography"
                      class="alert alert-info col-xs-12 col-sm-4 col-md-3">
          <editable property="one_line_bio"    label="one line bio"    type="textarea">This is a one sentence biography of yourself.</editable>
          <editable property="approach"        label="approach"        type="textarea">What is your approach to Architecture, to solving problems, to life in general?</editable>
          <editable property="expertise"       label="expertise"       type="textarea">What areas do you have specific expertise in?</editable>
          <editable property="experience"      label="experience"      type="textarea">What are the key experiences that people should know about? What projects or events have shaped your career?</editable>
          <editable property="achievements"    label="achievements"    type="textarea">What achievements have you made that have shaped your career?</editable>
          <editable property="value_statement" label="value statement" type="textarea">Architects are great at explaining to other architects why they are great - less good at explaining to clients. If you had to sum up what value you could bring to a project, what woudl you say?</editable>
        </editable-group>
    </section>


    <section ng-show="isCurrentUser(person) || person.employee.press">
      <h3>press</h3>
      <p class="explantory-text">Have you been in the news? This is for <strong>all</strong> media attention that mentions you. Did you win a prize, make a scientific discovery or get arrested for fighting in Kings Cross? It should be recorded here.</p>
      <editable-group object="person"
                      lens="employee.press.attentions"
                      class="alert alert-info col-xs-12 col-sm-4 col-md-3">
          <editable property="date"               label="date"               type="date"    >When did you get this press attention?</editable>
          <editable property="url"                label="url"                type="url"     >Link to the media, e.g. the smh.com.au page for the story</editable>
          <editable property="scan_or_screengrab" label="scan_or screengrab"                >upload a scan or a screen capture of the article, or some film of the footage. We can't rely on the story staying up forever on the main site. This also allows us to see what the acompanying advertising was at the time.</editable>
          <editable property="body_text"          label="body text"                         >Copy or transcribe the text of the article/film.</editable>
          <editable property="publication"        label="publication"                       >The name of the publication</editable>
          <editable property="reason"             label="reason"                            >Why did you get this attention? Was it a planned campaign? Did a journalist come to you?</editable>
          <p><a href="{{ subobject.url }}"><span class="glyphicon glyphicon-link"></span>Go to link.</a></div>
        </editable-group>
    </section>
  </section>

  <section ng-show="isCurrentUser(person) || person.applicant">
    <h3>applicant</h3>
      <p class="explantory-text">Explanatory text goes in here</p>
    <div class="row">
      <div class="alert alert-info col-sm-6 col-md-4"
           ng-repeat="q in person.applicant.applications">
        <editable property="date"                 label="date"                 type="date"    >Date of application</editable>
        <editable property="covering_letter"      label="covering letter"                     >Scan or attachment of the origonal covering letter.</editable>
        <editable property="portfolio"            label="portfolio"                           >Attatch the PDF portfolio they submitted.</editable>
        <editable property="assessment"           label="assessment"           type="textarea">Once this person has been reviwed the reviwer should make comments here for future reference.</editable>
        <editable property="future_consideration" label="future consideration"                >If <em>True</em> this person will show up in keyword searches. If false they will be stored just for record.</editable>
        <editable property="skills_and_keywords"  label="skills_and keywords"                 >This is a comma separated list of skills and keywords that will be useful for finding this person in future. E.g. <em>Health, revit, articulate</em>.</editable>
      </div>
    </div>
  </section>

</article>
